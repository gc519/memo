######  Грабли, посещенные при переходе на linux и хостинг, и _какие-то ( не факт, что правильные! )_ пути их обхода.
	

    Версия php в терминале на хостинге не соответствует выбранной для сайта

Чтобы  в терминале хостинга использовалась нужная версия php,  можно создать в корне сайта (или всей доступной части хостинга) файл .bash_profile с алиасом для нужной версии php, и перелогиниться в терминале ssh (команда exit).

Содержимое сайта .bash_profile:
alias php='Путь к нужной версии php'

Путь  к нужной версии php можно получить командой  `whereis php `


    Composer использует неправильную версию php

К файлу .bash_profile добавить алиас для composer:
alias composer='Путь к php нужной версии -d memory_limit=512M Путь к composer'
Например, /usr/local/bin/php7.2 и /usr/local/bin/composer. 

P.S. Размер памяти указать тоже рекомендуют.

    Сайт падает с ошибкой 
    «Страница недоступна. Сайт … пока не может обработать этот запрос. (HTTP ERROR 500)»

Для выяснения причин может помочь включение отображения ошибок:

`<?php
ini_set('display_errors', 1);
error_reporting(E_ALL);
?>`

    При первом запуске сайта сообщение об ошибке в нечитаемой кодировке

Одной из причин может быть несоответствие версии php установленной для сайта версии php в коде сценариев.


    При переезде на Linux-Nginx часть страниц перестала работать

В шаблонах не помешает поискать управляющие конструкции php в сокращенном формате (типа` <? endif; ?>` и т. д.). Во всяком случае, при «начальных» (скопированных с первого попавшегося забора) настройках всего подряд - такая проблема может возникнуть. 

Только `<?php  … ?>`!


    В приложениях php не загружаются файлы (изображений и т.д.)
    	
Отсутствуют права на запись для папки у пользователя www-data (или другого, от которого запускается вот это вот всё: nginx, php-fpm...) 
Имя этого пользователя можно уточнить, просмотрев результат работы команды ps aux


    Разные мелочи

Старт, стоп, перезапуск  mysql, nginx и т.д:

` sudo systemctl start <ИмяСервиса>`

` sudo systemctl stop <ИмяСервиса>`

` sudo systemctl restart <ИмяСервиса>`

Если необходимо только перечитать конфигурационные файлы nginx подойдет
systemctl reload nginx


    Добавление нового сайта (Nginx)

Создать файл конфигурации:

`cd /etc/nginx/sites-available/ `

`sudo touch <имя>` (например, test.local)

Создать симлинк на файл конфигурации:

`cd /etc/nginx/sites-enabled/`

`sudo ln -s /etc/nginx/sites-available/<имяФайла> <имяФайла>`

Добавить сайт в /etc/hosts, выполнить systemctl reload nginx

					
    Напоминалка по установке приложения на laravel (beget)

В терминале перейти в папку сайта, удалить public_html

Клонировать репозиторий github в текущую папку: `git clone <адрес github>` .

Создать символьную ссылку public_html, указывающую на каталог public проекта : `ln -s public public_html`

Создать базу

Настроить .env

Запустить:

` php artisan key:generate`

` php artisan migrate` или `php artisan migrate --seed`
